import{g as S,b as g}from"./style-CTvUTgv5.js";const q=async t=>{const e=(await S()).find(y=>y.id===t),r=document.querySelector(".product-image"),n=document.querySelector(".product-title"),i=document.querySelector(".product-rating"),o=document.querySelector(".sale-price"),s=document.querySelector(".regular-price"),u=document.querySelector(".total-price"),l=document.querySelector(".product-description"),m=document.querySelector("#cart"),p=document.querySelector("#wishlist");document.querySelector("#quantity"),r.src=e.image,n.innerText=e.title,i.innerText=e.rating.count+" Ratings",o.innerText=e.salePrice,s.innerText=e.price,u.innerText=e.salePrice,l.innerText=e.description,m.dataset.productId=e.id,p.dataset.productId=e.id},a=t=>{const c=t?1:-1,e=1,r=document.querySelector("#quantity");r.value=Number(r.value)+c>=e?Number(r.value)+c:e,r.dispatchEvent(new Event("change"))},h=()=>{const t=document.querySelector("#decrement"),c=document.querySelector("#increment");t.addEventListener("click",()=>a(!1)),c.addEventListener("click",()=>a(!0))},I=async(t,c)=>{const e=JSON.parse(localStorage.getItem("dom-commerce-cart-product"))??[],r=e.find(s=>s.productId===t);r!==void 0?r.productQuantity=c:e.push({productId:t,productQuantity:c}),localStorage.setItem("dom-commerce-cart-product",JSON.stringify(e));const n=document.querySelector(".priceMeterSubtotal"),i=document.querySelector(".priceMeterItemNumber"),o=await g();n.innerHTML=o.totalPrice,i.innerText=o.totalCartItem},v=()=>{const t=document.querySelector("#cart"),c=t.dataset.productId;t.addEventListener("click",()=>{const e=document.querySelector("#quantity").value;I(c,e)})},P=t=>(JSON.parse(localStorage.getItem("dom-commerce-wishlist-product"))??[]).find(e=>e===Number(t))!==void 0,d=t=>{t.innerText="Already Added",t.setAttribute("disabled","")},T=(t,c)=>{const e=JSON.parse(localStorage.getItem("dom-commerce-wishlist-product"))??[];e.push(Number(t)),localStorage.setItem("dom-commerce-wishlist-product",JSON.stringify(e)),d(c)},f=()=>{const t=document.querySelector("#wishlist"),c=t.dataset.productId;if(P(c)){d(t);return}t.addEventListener("click",()=>T(c,t))},E=Number(location.href.split("id=")[1]);q(E).then(()=>{h(),v(),f()});
