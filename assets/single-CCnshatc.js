import{g}from"./style-CyaN5J1M.js";const h=async t=>{const e=(await g()).find(S=>S.id===t),r=document.querySelector(".product-image"),o=document.querySelector(".product-title"),d=document.querySelector(".product-rating"),u=document.querySelector(".sale-price"),a=document.querySelector(".regular-price"),l=document.querySelector(".total-price"),m=document.querySelector(".product-description"),p=document.querySelector("#cart"),y=document.querySelector("#wishlist");document.querySelector("#quantity"),r.src=e.image,o.innerText=e.title,d.innerText=e.rating.count+" Ratings",u.innerText=e.salePrice,a.innerText=e.price,l.innerText=e.salePrice,m.innerText=e.description,p.dataset.productId=e.id,y.dataset.productId=e.id},n=t=>{const c=t?1:-1,e=1,r=document.querySelector("#quantity");r.value=Number(r.value)+c>=e?Number(r.value)+c:e,r.dispatchEvent(new Event("change"))},q=()=>{const t=document.querySelector("#decrement"),c=document.querySelector("#increment");t.addEventListener("click",()=>n(!1)),c.addEventListener("click",()=>n(!0))},I=(t,c)=>{const e=JSON.parse(localStorage.getItem("dom-commerce-cart-product"))??[],r=e.find(o=>o.productId===t);r!==void 0?r.productQuantity=c:e.push({productId:t,productQuantity:c}),localStorage.setItem("dom-commerce-cart-product",JSON.stringify(e))},i=()=>{const t=document.querySelector("#cart"),c=t.dataset.productId;t.addEventListener("click",()=>{const e=document.querySelector("#quantity").value;I(c,e)})};i();const v=t=>(JSON.parse(localStorage.getItem("dom-commerce-wishlist-product"))??[]).find(e=>e===Number(t))!==void 0,s=t=>{t.innerText="Already Added",t.setAttribute("disabled","")},f=(t,c)=>{const e=JSON.parse(localStorage.getItem("dom-commerce-wishlist-product"))??[];e.push(Number(t)),localStorage.setItem("dom-commerce-wishlist-product",JSON.stringify(e)),s(c)},E=()=>{const t=document.querySelector("#wishlist"),c=t.dataset.productId;if(v(c)){s(t);return}t.addEventListener("click",()=>f(c,t))},P=Number(location.href.split("id=")[1]);h(P).then(()=>{q(),i(),E()});
