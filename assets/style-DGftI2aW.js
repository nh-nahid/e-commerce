(function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))h(d);new MutationObserver(d=>{for(const g of d)if(g.type==="childList")for(const _ of g.addedNodes)_.tagName==="LINK"&&_.rel==="modulepreload"&&h(_)}).observe(document,{childList:!0,subtree:!0});function p(d){const g={};return d.integrity&&(g.integrity=d.integrity),d.referrerPolicy&&(g.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?g.credentials="include":d.crossOrigin==="anonymous"?g.credentials="omit":g.credentials="same-origin",g}function h(d){if(d.ep)return;d.ep=!0;const g=p(d);fetch(d.href,g)}})();function gt(){return!!JSON.parse(localStorage.getItem("user"))?.accessToken}function At(a,l,p){return l=parseFloat(l),p=parseFloat(p),a=parseFloat(a),a>=l&&a<=p}const vt=async()=>{if(!Array.isArray(window.allProductsData)){const l=await(await fetch("../products.json")).json();window.allProductsData=l}return allProductsData},ft=async a=>(await vt()).find(h=>{if(h.id===Number(a))return h}),ht=(a,l)=>a>l?l:a,pt=()=>(JSON.parse(localStorage.getItem("dom-commerce-cart-product"))??[])?.map(l=>l.productId),yt=async()=>{const a=JSON.parse(localStorage.getItem("dom-commerce-cart-product"))??[],l=pt();if(l===void 0)return{totalPrice:0,totalCartItem:0};const p=l.map(d=>new Promise(async g=>{const _=await ft(d),S=a.find(L=>L.productId===d).productQuantity;g(ht(Number(_.price),Number(_.salePrice))*S)}));return{totalPrice:await new Promise(d=>{Promise.all(p).then(g=>{const _=g.reduce((S,L)=>S+L,0);d(_)})}),totalCartItem:p.length}},mt=()=>{const a=document.querySelector(".off-canvas"),l=document.querySelector(".off-canvas-overlay"),p=document.querySelector(".close-icon");a.classList.add("show-off-canvas"),l.classList.add("show-off-canvas-overlay"),l.addEventListener("click",function(h){h.preventDefault(),a.classList.remove("show-off-canvas"),l.classList.remove("show-off-canvas-overlay")}),p.addEventListener("click",function(h){h.preventDefault(),a.classList.remove("show-off-canvas"),l.classList.remove("show-off-canvas-overlay")})},Mt=String.raw;var _t=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function wt(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var z={exports:{}};(function(a,l){(function(){var p,h,d,g,_,S,L,K,V,Y,Z,R,M,tt,et,q,rt,w,N,nt,C,x,H,k,A,$,U,it,j,B,ot,st,at=[].slice;rt='<span class="odometer-value"></span>',tt='<span class="odometer-ribbon"><span class="odometer-ribbon-inner">'+rt+"</span></span>",g='<span class="odometer-digit"><span class="odometer-digit-spacer">8</span><span class="odometer-digit-inner">'+tt+"</span></span>",L='<span class="odometer-formatting-mark"></span>',d="(,ddd).dd",K=/^\(?([^)]*)\)?(?:(.)(d+))?$/,V=30,S=2e3,p=20,Y=2,_=.5,Z=1e3/V,h=1e3/p,et="transitionend webkitTransitionEnd oTransitionEnd otransitionend MSTransitionEnd",A=document.createElement("div").style,q=A.transition!=null||A.webkitTransition!=null||A.mozTransition!=null||A.oTransition!=null,H=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,R=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver,N=function(r){var t;return t=document.createElement("div"),t.innerHTML=r,t.children[0]},x=function(r,t){return r.className=r.className.replace(new RegExp("(^| )"+t.split(" ").join("|")+"( |$)","gi")," ")},w=function(r,t){return x(r,t),r.className+=" "+t},$=function(r,t){var e;if(document.createEvent!=null)return e=document.createEvent("HTMLEvents"),e.initEvent(t,!0,!0),r.dispatchEvent(e)},C=function(){var r,t;return(r=(t=window.performance)!=null&&typeof t.now=="function"?t.now():void 0)!=null?r:+new Date},k=function(r,t){return t==null&&(t=0),t?(r*=Math.pow(10,t),r+=.5,r=Math.floor(r),r/=Math.pow(10,t)):Math.round(r)},U=function(r){return r<0?Math.ceil(r):Math.floor(r)},nt=function(r){return r-k(r)},j=!1,(it=function(){var r,t,e,n,o;if(!j&&window.jQuery!=null){for(j=!0,n=["html","text"],o=[],t=0,e=n.length;t<e;t++)r=n[t],o.push(function(i){var s;return s=window.jQuery.fn[i],window.jQuery.fn[i]=function(u){var c;return u==null||((c=this[0])!=null?c.odometer:void 0)==null?s.apply(this,arguments):this[0].odometer.update(u)}}(r));return o}})(),setTimeout(it,0),M=function(){function r(t){var e,n,o,i,s,u,c,v,y,f=this;if(this.options=t,this.el=this.options.el,this.el.odometer!=null)return this.el.odometer;this.el.odometer=this,c=r.options;for(e in c)o=c[e],this.options[e]==null&&(this.options[e]=o);(i=this.options).duration==null&&(i.duration=S),this.MAX_VALUES=this.options.duration/Z/Y|0,this.resetFormat(),this.value=this.cleanValue((v=this.options.value)!=null?v:""),this.renderInside(),this.render();try{for(y=["innerHTML","innerText","textContent"],s=0,u=y.length;s<u;s++)n=y[s],this.el[n]!=null&&function(m){return Object.defineProperty(f.el,m,{get:function(){var b;return m==="innerHTML"?f.inside.outerHTML:(b=f.inside.innerText)!=null?b:f.inside.textContent},set:function(b){return f.update(b)}})}(n)}catch{this.watchForMutations()}}return r.prototype.renderInside=function(){return this.inside=document.createElement("div"),this.inside.className="odometer-inside",this.el.innerHTML="",this.el.appendChild(this.inside)},r.prototype.watchForMutations=function(){var t=this;if(R!=null)try{return this.observer==null&&(this.observer=new R(function(e){var n;return n=t.el.innerText,t.renderInside(),t.render(t.value),t.update(n)})),this.watchMutations=!0,this.startWatchingMutations()}catch{}},r.prototype.startWatchingMutations=function(){if(this.watchMutations)return this.observer.observe(this.el,{childList:!0})},r.prototype.stopWatchingMutations=function(){var t;return(t=this.observer)!=null?t.disconnect():void 0},r.prototype.cleanValue=function(t){var e;return typeof t=="string"&&(t=t.replace((e=this.format.radix)!=null?e:".","<radix>"),t=t.replace(/[.,]/g,""),t=t.replace("<radix>","."),t=parseFloat(t,10)||0),k(t,this.format.precision)},r.prototype.bindTransitionEnd=function(){var t,e,n,o,i,s,u=this;if(!this.transitionEndBound){for(this.transitionEndBound=!0,e=!1,i=et.split(" "),s=[],n=0,o=i.length;n<o;n++)t=i[n],s.push(this.el.addEventListener(t,function(){return e||(e=!0,setTimeout(function(){return u.render(),e=!1,$(u.el,"odometerdone")},0)),!0},!1));return s}},r.prototype.resetFormat=function(){var t,e,n,o,i,s,u,c;if(t=(u=this.options.format)!=null?u:d,t||(t="d"),n=K.exec(t),!n)throw new Error("Odometer: Unparsable digit format");return c=n.slice(1,4),s=c[0],i=c[1],e=c[2],o=e?.length||0,this.format={repeating:s,radix:i,precision:o}},r.prototype.render=function(t){var e,n,o,i,s,u,c;for(t==null&&(t=this.value),this.stopWatchingMutations(),this.resetFormat(),this.inside.innerHTML="",s=this.options.theme,e=this.el.className.split(" "),i=[],u=0,c=e.length;u<c;u++)if(n=e[u],!!n.length){if(o=/^odometer-theme-(.+)$/.exec(n)){s=o[1];continue}/^odometer(-|$)/.test(n)||i.push(n)}return i.push("odometer"),q||i.push("odometer-no-transitions"),s?i.push("odometer-theme-"+s):i.push("odometer-auto-theme"),this.el.className=i.join(" "),this.ribbons={},this.formatDigits(t),this.startWatchingMutations()},r.prototype.formatDigits=function(t){var e,n,o,i,s,u,c,v,y,f;if(this.digits=[],this.options.formatFunction)for(o=this.options.formatFunction(t),y=o.split("").reverse(),s=0,c=y.length;s<c;s++)n=y[s],n.match(/0-9/)?(e=this.renderDigit(),e.querySelector(".odometer-value").innerHTML=n,this.digits.push(e),this.insertDigit(e)):this.addSpacer(n);else for(i=!this.format.precision||!nt(t)||!1,f=t.toString().split("").reverse(),u=0,v=f.length;u<v;u++)e=f[u],e==="."&&(i=!0),this.addDigit(e,i)},r.prototype.update=function(t){var e,n=this;if(t=this.cleanValue(t),!!(e=t-this.value))return x(this.el,"odometer-animating-up odometer-animating-down odometer-animating"),e>0?w(this.el,"odometer-animating-up"):w(this.el,"odometer-animating-down"),this.stopWatchingMutations(),this.animate(t),this.startWatchingMutations(),setTimeout(function(){return n.el.offsetHeight,w(n.el,"odometer-animating")},0),this.value=t},r.prototype.renderDigit=function(){return N(g)},r.prototype.insertDigit=function(t,e){return e!=null?this.inside.insertBefore(t,e):this.inside.children.length?this.inside.insertBefore(t,this.inside.children[0]):this.inside.appendChild(t)},r.prototype.addSpacer=function(t,e,n){var o;return o=N(L),o.innerHTML=t,n&&w(o,n),this.insertDigit(o,e)},r.prototype.addDigit=function(t,e){var n,o,i,s;if(e==null&&(e=!0),t==="-")return this.addSpacer(t,null,"odometer-negation-mark");if(t===".")return this.addSpacer((s=this.format.radix)!=null?s:".",null,"odometer-radix-mark");if(e)for(i=!1;;){if(!this.format.repeating.length){if(i)throw new Error("Bad odometer format without digits");this.resetFormat(),i=!0}if(n=this.format.repeating[this.format.repeating.length-1],this.format.repeating=this.format.repeating.substring(0,this.format.repeating.length-1),n==="d")break;this.addSpacer(n)}return o=this.renderDigit(),o.querySelector(".odometer-value").innerHTML=t,this.digits.push(o),this.insertDigit(o)},r.prototype.animate=function(t){return!q||this.options.animation==="count"?this.animateCount(t):this.animateSlide(t)},r.prototype.animateCount=function(t){var e,n,o,i,s,u=this;if(n=+t-this.value)return i=o=C(),e=this.value,(s=function(){var c,v,y;if(C()-i>u.options.duration){u.value=t,u.render(),$(u.el,"odometerdone");return}return c=C()-o,c>h&&(o=C(),y=c/u.options.duration,v=n*y,e+=v,u.render(Math.round(e))),H!=null?H(s):setTimeout(s,h)})()},r.prototype.getDigitCount=function(){var t,e,n,o,i,s;for(o=1<=arguments.length?at.call(arguments,0):[],t=i=0,s=o.length;i<s;t=++i)n=o[t],o[t]=Math.abs(n);return e=Math.max.apply(Math,o),Math.ceil(Math.log(e+1)/Math.log(10))},r.prototype.getFractionalDigitCount=function(){var t,e,n,o,i,s,u;for(i=1<=arguments.length?at.call(arguments,0):[],e=/^\-?\d*\.(\d*?)0*$/,t=s=0,u=i.length;s<u;t=++s)o=i[t],i[t]=o.toString(),n=e.exec(i[t]),n==null?i[t]=0:i[t]=n[1].length;return Math.max.apply(Math,i)},r.prototype.resetDigits=function(){return this.digits=[],this.ribbons=[],this.inside.innerHTML="",this.resetFormat()},r.prototype.animateSlide=function(t){var e,n,o,i,s,u,c,v,y,f,m,b,D,F,P,E,T,ut,O,W,Q,lt,ct,dt,G,J,X;if(E=this.value,v=this.getFractionalDigitCount(E,t),v&&(t=t*Math.pow(10,v),E=E*Math.pow(10,v)),!!(o=t-E)){for(this.bindTransitionEnd(),i=this.getDigitCount(E,t),s=[],e=0,m=O=0;0<=i?O<i:O>i;m=0<=i?++O:--O){if(T=U(E/Math.pow(10,i-m-1)),c=U(t/Math.pow(10,i-m-1)),u=c-T,Math.abs(u)>this.MAX_VALUES){for(f=[],b=u/(this.MAX_VALUES+this.MAX_VALUES*e*_),n=T;u>0&&n<c||u<0&&n>c;)f.push(Math.round(n)),n+=b;f[f.length-1]!==c&&f.push(c),e++}else f=function(){X=[];for(var I=T;T<=c?I<=c:I>=c;T<=c?I++:I--)X.push(I);return X}.apply(this);for(m=W=0,lt=f.length;W<lt;m=++W)y=f[m],f[m]=Math.abs(y%10);s.push(f)}for(this.resetDigits(),J=s.reverse(),m=Q=0,ct=J.length;Q<ct;m=++Q)for(f=J[m],this.digits[m]||this.addDigit(" ",m>=v),(ut=this.ribbons)[m]==null&&(ut[m]=this.digits[m].querySelector(".odometer-ribbon-inner")),this.ribbons[m].innerHTML="",o<0&&(f=f.reverse()),D=G=0,dt=f.length;G<dt;D=++G)y=f[D],P=document.createElement("div"),P.className="odometer-value",P.innerHTML=y,this.ribbons[m].appendChild(P),D===f.length-1&&w(P,"odometer-last-value"),D===0&&w(P,"odometer-first-value");if(T<0&&this.addDigit("-"),F=this.inside.querySelector(".odometer-radix-mark"),F?.parent.removeChild(F),v)return this.addSpacer(this.format.radix,this.digits[v-1],"odometer-radix-mark")}},r}(),M.options=(ot=window.odometerOptions)!=null?ot:{},setTimeout(function(){var r,t,e,n,o;if(window.odometerOptions){n=window.odometerOptions,o=[];for(r in n)t=n[r],o.push((e=M.options)[r]!=null?(e=M.options)[r]:e[r]=t);return o}},0),M.init=function(){var r,t,e,n,o,i;if(document.querySelectorAll!=null){for(t=document.querySelectorAll(M.options.selector||".odometer"),i=[],e=0,n=t.length;e<n;e++)r=t[e],i.push(r.odometer=new M({el:r,value:(o=r.innerText)!=null?o:r.textContent}));return i}},((st=document.documentElement)!=null?st.doScroll:void 0)!=null&&document.createEventObject!=null?(B=document.onreadystatechange,document.onreadystatechange=function(){return document.readyState==="complete"&&M.options.auto!==!1&&M.init(),B?.apply(this,arguments)}):document.addEventListener("DOMContentLoaded",function(){if(M.options.auto!==!1)return M.init()},!1),l!==null?a.exports=M:window.Odometer=M}).call(_t)})(z,z.exports);var bt=z.exports;const Et=wt(bt);function Tt({imageLink:a,productTilte:l,productCategory:p,productPrice:h,productId:d}){const g=document.querySelector("#cart-off-canvas");g.innerHTML+=Mt`
    <div class="cart-product">
      <div>
        <img
          src="${a}"
          alt=""
        />
      </div>

      <div class="cart-product-details">
        <div>
          <h4>
            ${l}
          </h4>
        </div>
        <h5>${p}</h5>
        <h5>${h}</h5>
        <div class="off-cart-btn">
          <button data-product-id="${d}" class="off-canvas-btn decrease">-</button>
          <input
            min="1"
            max="10"
            value="1"
            type="number"
            class="off-cart-quantity"
          />
          <button data-product-id="${d}" class="off-canvas-btn increase">+</button>
        </div>
      </div>
      <div data-product-id="${d}" class="off-canvas-cart-remove"><i class="fa-solid fa-trash"></i></div>
    </div>

  `}const St=pt(),Lt=St.map(a=>new Promise(l=>{ft(a).then(p=>{l({imageLink:p.image,productCategory:p.category,productTilte:p.title,productPrice:"$"+ht(100,50),productId:p.id})})}));Promise.all(Lt).then(a=>{a.forEach(l=>{Tt(l)})}).finally(()=>{const a=document.querySelectorAll(".off-canvas-btn.increase"),l=document.querySelectorAll(".off-canvas-btn.decrease"),p=document.querySelectorAll(".off-canvas-cart-remove");a.forEach(h=>{h.addEventListener("click",function(){console.log(h.dataset.productId)})}),l.forEach(h=>{h.addEventListener("click",function(){console.log(h.dataset.productId)})}),p.forEach(h=>{h.addEventListener("click",function(){console.log(h.dataset.productId)})})});const Pt=document.querySelector("#login-item");gt()&&(Pt.style.display="none");const Ct=document.querySelector(".view-cart");Ct.addEventListener("click",function(a){a.preventDefault(),mt()});yt().then(a=>{const l=document.createElement("div");l.innerHTML=`
            <div class="priceMeter">
                <div>Item : <span class="priceMeterItemNumber">${a.totalCartItem}</span></div>
                <div>$<span class="priceMeterSubtotal">${a.totalPrice}</span></div>
            </div>
`,document.querySelector("body").append(l),document.querySelector(".priceMeter").addEventListener("click",()=>{mt()}),new Et({el:document.querySelector(".priceMeterSubtotal"),value:a.totalPrice,format:"(,ddd).dd",theme:"default"})});export{At as a,yt as b,vt as g,gt as i};
